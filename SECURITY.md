# 安全配置指南

## 环境变量配置

本项目使用环境变量来管理 API 密钥和敏感配置。

### 初始化配置

1. 复制环境变量模板：
   ```bash
   cp .env.example .env
   ```

2. 编辑 `.env` 文件，填入你的真实 API 密钥：
   ```bash
   vim .env  # 或使用其他编辑器
   ```

3. 确认 `.env` 已在 `.gitignore` 中（✅ 已配置）

### 最佳实践

- ❌ **禁止**: 将 `.env` 文件提交到 Git
- ❌ **禁止**: 在代码中硬编码 API 密钥
- ✅ **推荐**: 使用环境变量引用配置
- ✅ **推荐**: 定期轮换 API 密钥
- ✅ **推荐**: 为不同环境使用不同的密钥

### 技能配置要求

| 技能 | 需要的环境变量 |
|------|----------------|
| anime-video | `TOKENCLOUD_API_KEY`, `TOKENCLOUD_API_BASE_URL`, `TOKENCLOUD_MODEL` |
| 其他技能 | 暂无 |

### 密钥泄露应急响应

如果不小心提交了包含密钥的文件：

1. **立即撤销密钥**: 在 TokenCloud 平台撤销已泄露的密钥
2. **生成新密钥**: 创建新的 API 密钥
3. **清理 Git 历史**: 使用 `git filter-repo` 或 `BFG Repo-Cleaner` 清除历史记录
4. **强制推送**: `git push --force`

## 报告安全问题

如果发现安全漏洞，请联系维护者。
